# ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุดุชุฑูุฉ - ูุดุฑูุน dndnapp

## ๐ ูุธุฑุฉ ุนุงูุฉ

ููุญุฉ ุงูุชุญูู ูุงูุชุทุจูู ุงูุฑุฆูุณู ูุณุชุฎุฏูุงู ููุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช `dndnapp`. ูุฐุง ุงูุณูุฑูุจุช ูุชุญูู ูู ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ ููุถูู ููุท ุงูุฌุฏุงูู ุงูููููุฏุฉ.

## ๐ ุงูุชุญูู ูู ุงูุฌุฏุงูู ุงูููุฌูุฏุฉ

### ุงูุฌุฏุงูู ุงููุทููุจุฉ ูููุญุฉ ุงูุชุญูู:
- โ **users** - ุงููุณุชุฎุฏููู
- โ **drivers** - ุงูุณุงุฆููู  
- โ **employees** - ุงูููุธููู
- โ **orders** - ุงูุทูุจุงุช
- โ **notifications** - ุงูุฅุดุนุงุฑุงุช
- โ **app_settings** - ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู

## ๐ ุฎุทูุงุช ุงูุฅุนุฏุงุฏ

### 1. ุงูุฏุฎูู ุฅูู Supabase Dashboard
1. ุงุฐูุจ ุฅูู [supabase.com](https://supabase.com)
2. ุงุฎุชุฑ ูุดุฑูุน `dndnapp`
3. ุงุฐูุจ ุฅูู SQL Editor

### 2. ุชุดุบูู ุณูุฑูุจุช ุงูุชุญูู
1. ุงูุณุฎ ูุญุชูู ููู `check_existing_tables.sql`
2. ุงูุตู ูู SQL Editor
3. ุงุถุบุท "Run" ูุชูููุฐ ุงูุณูุฑูุจุช

### 3. ูุฑุงุฌุนุฉ ุงููุชุงุฆุฌ
ุณุชุธูุฑ ูุงุฆูุฉ ุจุงูุฌุฏุงูู ุงูููุฌูุฏุฉ ูุงูููููุฏุฉ:
```
table_name | status
-----------|--------
users      | โ ููุฌูุฏ
drivers    | โ ููุฌูุฏ
orders     | โ ููุฌูุฏ
employees  | โ ููููุฏ
notifications | โ ููููุฏ
app_settings | โ ููููุฏ
```

## ๐ ุงูุฌุฏุงูู ุงููุถุงูุฉ (ุฅุฐุง ูุงูุช ููููุฏุฉ)

### 1. ุฌุฏูู ุงูููุธููู (employees)
```sql
- id: ูุนุฑู ูุฑูุฏ
- name: ุงูุงุณู
- email: ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- phone: ุฑูู ุงููุงุชู
- employee_id: ุฑูู ุงูููุธู
- role: ุงูุฏูุฑ (operator, manager, etc.)
- department: ุงููุณู
- status: ุงูุญุงูุฉ (active, inactive, suspended, terminated)
- national_id: ุฑูู ุงููููุฉ
- hire_date: ุชุงุฑูุฎ ุงูุชูุธูู
- salary: ุงูุฑุงุชุจ
- emergency_contact: ุฌูุฉ ุงูุงุชุตุงู ูู ุงูุทูุงุฑุฆ
```

### 2. ุฌุฏูู ุงูุฅุดุนุงุฑุงุช (notifications)
```sql
- id: ูุนุฑู ูุฑูุฏ
- user_id: ูุนุฑู ุงููุณุชุฎุฏู
- title: ุงูุนููุงู
- message: ุงูุฑุณุงูุฉ
- type: ุงูููุน
- is_read: ููุฑูุก/ุบูุฑ ููุฑูุก
- data: ุจูุงูุงุช ุฅุถุงููุฉ (JSON)
```

### 3. ุฌุฏูู ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู (app_settings)
```sql
- id: ูุนุฑู ูุฑูุฏ
- key: ุงูููุชุงุญ
- value: ุงููููุฉ (JSON)
- description: ุงููุตู
- updated_at: ุชุงุฑูุฎ ุงูุชุญุฏูุซ
```

## ๐ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### Row Level Security (RLS)
- ุชู ุชูุนูู RLS ุนูู ุฌููุน ุงูุฌุฏุงูู
- ุณูุงุณุงุช ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ ูุชุงุญุฉ ููุฌููุน
- ูููู ุชุฎุตูุต ุงูุณูุงุณุงุช ุญุณุจ ุงูุญุงุฌุฉ

### ุงูููุงุฑุณ
- ุชู ุฅูุดุงุก ููุงุฑุณ ูุชุญุณูู ุงูุฃุฏุงุก
- ููุงุฑุณ ุนูู ุงูุญููู ุงููููุฉ (email, status, created_at)

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ

ุชู ุฅุถุงูุฉ ุงูุฅุนุฏุงุฏุงุช ุงูุชุงููุฉ (ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ):
- `app_name`: "ูุธุงู ุฏูุฏู ุงูุฅุฏุงุฑู"
- `app_version`: "1.0.0"
- `maintenance_mode`: false
- `max_file_size`: 10485760 (10MB)
- `supported_formats`: ["jpg", "jpeg", "png", "pdf"]

## ๐งช ุงุฎุชุจุงุฑ ุงูุฅุนุฏุงุฏ

### 1. ุงูุชุญูู ูู ุงูุฌุฏุงูู
```sql
SELECT table_name FROM information_schema.tables 
WHERE table_schema = 'public' 
AND table_name IN ('users', 'drivers', 'employees', 'orders', 'notifications', 'app_settings');
```

### 2. ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช
```sql
SELECT * FROM app_settings;
```

### 3. ุงุฎุชุจุงุฑ ุฅุฏุฑุงุฌ ุจูุงูุงุช ุชุฌุฑูุจูุฉ
```sql
INSERT INTO employees (id, name, email, phone, employee_id, department, hire_date) 
VALUES ('emp-1', 'ููุธู ุชุฌุฑูุจู', 'employee@example.com', '123456789', 'EMP001', 'IT', '2024-01-01');
```

## ๐ ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

### ุฅุถุงูุฉ ุญููู ุฌุฏูุฏุฉ
```sql
ALTER TABLE employees ADD COLUMN new_field TEXT;
```

### ุชุนุฏูู ุงูุณูุงุณุงุช
```sql
DROP POLICY "policy_name" ON table_name;
CREATE POLICY "new_policy" ON table_name FOR SELECT USING (condition);
```

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### ุงุณุชุนูุงูุงุช ูููุฏุฉ:
```sql
-- ุนุฏุฏ ุงููุณุชุฎุฏููู
SELECT COUNT(*) FROM users;

-- ุนุฏุฏ ุงูุทูุจุงุช ุญุณุจ ุงูุญุงูุฉ
SELECT status, COUNT(*) FROM orders GROUP BY status;

-- ุนุฏุฏ ุงูููุธููู ุญุณุจ ุงููุณู
SELECT department, COUNT(*) FROM employees GROUP BY department;

-- ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ
SELECT COUNT(*) FROM notifications WHERE is_read = false;
```

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ:
1. **ุฎุทุฃ ูู ุงูุตูุงุญูุงุช**: ุชุญูู ูู RLS policies
2. **ุฎุทุฃ ูู ุงูููุงุชูุญ**: ุชุญูู ูู foreign keys
3. **ุฎุทุฃ ูู ุงูุจูุงูุงุช**: ุชุญูู ูู constraints

### ุญููู:
```sql
-- ุฅุนุงุฏุฉ ุชุนููู ุงูุณูุงุณุงุช
DROP POLICY IF EXISTS "policy_name" ON table_name;
CREATE POLICY "new_policy" ON table_name FOR ALL USING (true);

-- ุงูุชุญูู ูู ุงูููุงุชูุญ ุงูุฎุงุฑุฌูุฉ
SELECT * FROM information_schema.table_constraints 
WHERE constraint_type = 'FOREIGN KEY';
```

## ๐ ุงูุฏุนู

### ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู:
1. ุชุญูู ูู ุฑุณุงุฆู ุงูุฎุทุฃ ูู SQL Editor
2. ุชุฃูุฏ ูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู
3. ุชุญูู ูู ูุฌูุฏ ุงูุฌุฏุงูู ูู Table Editor

### ูุตุงุฆุญ:
- ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุจู ุงูุชุนุฏููุงุช ุงููุจูุฑุฉ
- ุงุฎุชุจุฑ ุงูุชุบููุฑุงุช ูู ุจูุฆุฉ ุงูุชุทููุฑ ุฃููุงู
- ุฑุงุฌุน ุณูุงุณุงุช ุงูุฃูุงู ุจุงูุชุธุงู

---

**ููุงุญุธุฉ:** ูุฐุง ุงูุณูุฑูุจุช ุขูู ููุญุชุฑู ุงูุฌุฏุงูู ุงูููุฌูุฏุฉุ ููุท ูุถูู ุงูุฌุฏุงูู ุงูููููุฏุฉ ูููุญุฉ ุงูุชุญูู.
